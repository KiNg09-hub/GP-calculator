<!DOCTYPE html>
<html lang="ms">
<head>
  <meta name="google-site-verification" content="OSjqlFeAYM2wttYSqqJrlWH9aa_hF-7p1aSOYRCWrKg" />
  <meta name="description" content="SPM GP Calculator - Calculate your SPM Gred Purata (GP) easily. Fast, accurate SPM grade calculator with PDF download.">
<meta name="keywords" content="SPM, GP calculator, gred purata, SPM calculator, SPM result, Malaysia exam, gpa SPM">
<meta name="author" content="Your Name">
<meta name="robots" content="index, follow">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SPM GP Calculator (Tailwind)</title>

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

</head>
<body class="bg-gradient-to-br from-indigo-50 to-blue-100 min-h-screen flex justify-center py-10">

  <div class="bg-white w-full max-w-3xl shadow-xl rounded-2xl p-8 border border-indigo-100">

    <h1 class="text-3xl font-bold text-indigo-700 mb-2">SPM GP Calculator</h1>
    <p class="text-sm text-slate-600 mb-6">Masukkan markah setiap subjek. Sistem akan kira gred & nilai secara automatik.</p>

    <!-- Number of subjects -->
    <label class="font-medium text-slate-700">Jumlah Subjek:</label>
    <div class="flex gap-3 mt-2">
      <input id="totalSubjects" type="number" min="1" placeholder="Contoh: 9" 
             class="flex-1 p-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-400">
      <button onclick="generateSubjects()" 
              class="px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-semibold shadow">
        Set
      </button>
    </div>

    <!-- Subjects Container -->
    <div id="subjectsContainer" class="mt-6 space-y-4"></div>

    <!-- Buttons -->
    <div class="flex gap-4 mt-6">
      <button id="calcBtn" onclick="calculateGP()" 
              class="hidden flex-1 bg-emerald-500 hover:bg-emerald-600 text-white py-3 rounded-lg font-semibold shadow">
        Kira GP
      </button>

      <button id="downloadBtn" onclick="downloadPDF()" 
              class="hidden flex-1 bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-semibold shadow">
        Muat Turun PDF
      </button>
    </div>

    <!-- Result -->
    <h2 class="text-xl font-semibold text-slate-800 mt-10">Keputusan:</h2>
    <div id="result" class="mt-3 bg-slate-100 border border-slate-200 p-4 rounded-lg text-slate-700">
      -
    </div>

  </div>

<script>
/* --------------------------------------
   YOUR ORIGINAL GRADING SYSTEM (UNCHANGED)
----------------------------------------- */
function getGradeData(mark) {
  if (mark >= 90) return { grade: "A+", value: 0 };
  if (mark >= 80) return { grade: "A",  value: 1 };
  if (mark >= 70) return { grade: "A-", value: 2 };
  if (mark >= 66) return { grade: "B+", value: 3 };
  if (mark >= 60) return { grade: "B",  value: 4 };
  if (mark >= 55) return { grade: "C+", value: 5 };
  if (mark >= 50) return { grade: "C",  value: 6 };
  if (mark >= 46) return { grade: "D",  value: 7 };
  if (mark >= 40) return { grade: "E",  value: 8 };
  if (mark >= 0)  return { grade: "F",  value: 9 };
  return { grade: "-", value: 0 };
}

/* --------------------------------------
   GENERATE SUBJECT INPUTS
----------------------------------------- */
function generateSubjects() {
  const total = parseInt(document.getElementById("totalSubjects").value);
  const container = document.getElementById("subjectsContainer");
  container.innerHTML = "";

  if (total <= 0) return;

  for (let i = 1; i <= total; i++) {
    container.innerHTML += `
      <div class="bg-white border border-slate-300 p-4 rounded-xl shadow-sm">
        <label class="font-medium text-slate-700">Subjek ${i}</label>
        <input type="number" placeholder="Markah (0 - 100)" 
               class="w-full mt-2 p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-400"
               data-mark>
      </div>
    `;
  }

  document.getElementById("calcBtn").classList.remove("hidden");
}

/* --------------------------------------
   CALCULATE GP
----------------------------------------- */
function calculateGP() {
  const inputs = document.querySelectorAll("[data-mark]");
  let totalValue = 0;
  let resultHTML = "";

  inputs.forEach((input, index) => {
    const mark = parseInt(input.value) || 0;
    const data = getGradeData(mark);

    totalValue += data.value;

    resultHTML += `
      <div class="flex justify-between items-center bg-white p-3 border rounded-lg mb-2 shadow-sm">
        <span class="font-medium text-slate-700">Subjek ${index + 1}</span>
        <span class="text-indigo-700 font-bold">${data.grade} (${data.value})</span>
      </div>
    `;
  });

  const GP = (totalValue / inputs.length).toFixed(2);

  document.getElementById("result").innerHTML = `
    <p class="text-lg font-bold text-indigo-700 mb-3">GP: ${GP}</p>
    ${resultHTML}
  `;

  document.getElementById("downloadBtn").classList.remove("hidden");
}

/* --------------------------------------
   PDF DOWNLOAD (UNCHANGED)
----------------------------------------- */
function downloadPDF() {
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();

  doc.text("Keputusan GP SPM", 20, 20);
  doc.text(document.getElementById("result").innerText, 20, 40);

  doc.save("SPM_GP_Result.pdf");
}
</script>

</body>
</html>


